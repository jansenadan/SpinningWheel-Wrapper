var SpinningWheel={cellHeight:44,friction:0.003,slotData:[],handleEvent:function(a){if("touchstart"==a.type)this.lockScreen(a),"sw-cancel"==a.currentTarget.id||"sw-done"==a.currentTarget.id?this.tapDown(a):"sw-frame"==a.currentTarget.id&&this.scrollStart(a);else if("touchmove"==a.type)this.lockScreen(a),"sw-cancel"==a.currentTarget.id||"sw-done"==a.currentTarget.id?this.tapCancel(a):"sw-frame"==a.currentTarget.id&&this.scrollMove(a);else if("touchend"==a.type)if("sw-cancel"==a.currentTarget.id||"sw-done"==
a.currentTarget.id)this.tapUp(a);else{if("sw-frame"==a.currentTarget.id){this.scrollEnd(a);var b=this;setTimeout(function(){b.scrollEndAction.apply(b,[b.activeSlot])},100)}}else if("webkitTransitionEnd"==a.type)"sw-wrapper"==a.target.id?this.destroy():this.backWithinBoundaries(a);else if("orientationchange"==a.type)this.onOrientationChange(a);else if("scroll"==a.type)this.onScroll(a)},onOrientationChange:function(){window.scrollTo(0,0);this.swWrapper.style.top=window.innerHeight+window.pageYOffset+
"px";this.calculateSlotsWidth()},onScroll:function(){this.swWrapper.style.top=window.innerHeight+window.pageYOffset+"px"},lockScreen:function(a){a.preventDefault();a.stopPropagation()},reset:function(){this.slotEl=[];this.activeSlot=null;this.swFrame=this.swSlots=this.swSlotWrapper=this.swWrapper=void 0},calculateSlotsWidth:function(){for(var a=this.swSlots.getElementsByTagName("div"),b=0;b<a.length;b+=1)this.slotEl[b].slotWidth=a[b].offsetWidth},create:function(){var a,b,c,d;this.reset();c=document.createElement("div");
c.id="sw-wrapper";c.style.top=window.innerHeight+window.pageYOffset+"px";c.style.webkitTransitionProperty="-webkit-transform";c.innerHTML='<div id="sw-header"><div id="sw-cancel">Cancel</div><div id="sw-done">Done</div></div><div id="sw-slots-wrapper"><div id="sw-slots"></div></div><div id="sw-frame"></div>';document.body.appendChild(c);this.swWrapper=c;this.swSlotWrapper=document.getElementById("sw-slots-wrapper");this.swSlots=document.getElementById("sw-slots");this.swFrame=document.getElementById("sw-frame");
for(b=0;b<this.slotData.length;b+=1){d=document.createElement("ul");c="";for(a in this.slotData[b].values)c+='<li id="'+b+"_"+this.slotData[b].values[a]+'LI">'+this.slotData[b].values[a]+"</li>";d.innerHTML=c;c=document.createElement("div");c.className=this.slotData[b].style;c.appendChild(d);this.swSlots.appendChild(c);d.slotPosition=b;d.slotYPosition=0;d.slotWidth=0;d.slotMaxScroll=this.swSlotWrapper.clientHeight-d.clientHeight-86;d.style.webkitTransitionTimingFunction="cubic-bezier(0, 0, 0.2, 1)";
this.slotEl.push(d);this.slotData[b].defaultValue&&this.scrollToValue(b,this.slotData[b].defaultValue)}this.calculateSlotsWidth();document.addEventListener("touchstart",this,!1);document.addEventListener("touchmove",this,!1);window.addEventListener("orientationchange",this,!0);window.addEventListener("scroll",this,!0);document.getElementById("sw-cancel").addEventListener("touchstart",this,!1);document.getElementById("sw-done").addEventListener("touchstart",this,!1);this.swFrame.addEventListener("touchstart",
this,!1)},open:function(){this.create();this.swWrapper.style.webkitTransitionTimingFunction="ease-out";this.swWrapper.style.webkitTransitionDuration="350ms";this.swWrapper.style.webkitTransform="translate3d(0, -260px, 0)"},destroy:function(){this.swWrapper.removeEventListener("webkitTransitionEnd",this,!1);this.swFrame.removeEventListener("touchstart",this,!1);document.getElementById("sw-cancel").removeEventListener("touchstart",this,!1);document.getElementById("sw-done").removeEventListener("touchstart",
this,!1);document.removeEventListener("touchstart",this,!1);document.removeEventListener("touchmove",this,!1);window.removeEventListener("orientationchange",this,!0);window.removeEventListener("scroll",this,!0);this.slotData=[];this.cancelAction=function(){return!1};this.cancelDone=function(){return!0};this.scrollEndAction=function(){return!1};this.reset();document.body.removeChild(document.getElementById("sw-wrapper"))},close:function(){if("undefined"===typeof this.swWrapper)return!1;try{ScrollWheel.instanceOpen=
!1}catch(a){}this.swWrapper.style.webkitTransitionTimingFunction="ease-in";this.swWrapper.style.webkitTransitionDuration="400ms";this.swWrapper.style.webkitTransform="translate3d(0, 0, 0)";this.swWrapper.addEventListener("webkitTransitionEnd",this,!1)},addSlot:function(a,b,c){b||(b="");b=b.split(" ");for(var d=0;d<b.length;d+=1)b[d]="sw-"+b[d];b=b.join(" ");this.slotData.push({values:a,style:b,defaultValue:c})},getSelectedValues:function(){var a,b,c,d,e=[],f=[];for(c=0;c<this.slotEl.length;c++)for(d in this.slotEl[c].removeEventListener("webkitTransitionEnd",
this,!1),this.slotEl[c].style.webkitTransitionDuration="0",0<this.slotEl[c].slotYPosition?this.setPosition(c,0):this.slotEl[c].slotYPosition<this.slotEl[c].slotMaxScroll&&this.setPosition(c,this.slotEl[c].slotMaxScroll),a=-Math.round(this.slotEl[c].slotYPosition/this.cellHeight),b=0,this.slotData[c].values){if(b==a){e.push(d);f.push(this.slotData[c].values[d]);break}b+=1}return{keys:e,values:f}},getSlotValue:function(a){if(0>a||a>=this.slotEl.length)return{keys:null,values:null};var b,c=[],d=[];b=
-Math.round(this.slotEl[a].slotYPosition/this.cellHeight);b+=1;c.push(b);d.push(this.slotData[a].values[b]);return{keys:c,values:d}},hideSlotValuesAfter:function(a,b,c){if("undefined"===typeof c||null==c)return console.log("did you forget to pass the length of this slot to hideSlotValuesAfter?"),!1;b++;for(var d=null;b<=c;)d=document.getElementById(a+"_"+b+"LI"),this.slotEl[a].removeChild(d),b+=1;this.slotEl[a].slotMaxScroll=this.swSlotWrapper.clientHeight-this.slotEl[a].clientHeight-86},showSlotValuesAfter:function(a,
b,c){if("undefined"===typeof c||null==c)return console.log("did you forget to pass the length of this slot to showSlotValuesAfter?"),!1;for(b++;b<=c;){var d=document.getElementById(a+"_"+b+"LI");if("undefined"===typeof d||null==d)d=document.createElement("LI"),d.id=a+"_"+b+"LI",d.textContent=b,this.slotEl[a].appendChild(d);b+=1}this.slotEl[a].slotMaxScroll=this.swSlotWrapper.clientHeight-this.slotEl[a].clientHeight-86;thisSlot=null},setPosition:function(a,b){this.slotEl[a].slotYPosition=b;this.slotEl[a].style.webkitTransform=
"translate3d(0, "+b+"px, 0)"},scrollStart:function(a){for(var b=a.targetTouches[0].clientX-this.swSlots.offsetLeft,c=0,d=0;d<this.slotEl.length;d+=1)if(c+=this.slotEl[d].slotWidth,b<c){this.activeSlot=d;break}if(this.slotData[this.activeSlot].style.match("readonly"))return this.swFrame.removeEventListener("touchmove",this,!1),this.swFrame.removeEventListener("touchend",this,!1),!1;this.slotEl[this.activeSlot].removeEventListener("webkitTransitionEnd",this,!1);this.slotEl[this.activeSlot].style.webkitTransitionDuration=
"0";b=window.getComputedStyle(this.slotEl[this.activeSlot]).webkitTransform;b=(new WebKitCSSMatrix(b)).m42;b!=this.slotEl[this.activeSlot].slotYPosition&&this.setPosition(this.activeSlot,b);this.startY=a.targetTouches[0].clientY;this.scrollStartY=this.slotEl[this.activeSlot].slotYPosition;this.scrollStartTime=a.timeStamp;this.swFrame.addEventListener("touchmove",this,!1);this.swFrame.addEventListener("touchend",this,!1);return!0},scrollMove:function(a){var b=a.targetTouches[0].clientY-this.startY;
if(0<this.slotEl[this.activeSlot].slotYPosition||this.slotEl[this.activeSlot].slotYPosition<this.slotEl[this.activeSlot].slotMaxScroll)b/=2;this.setPosition(this.activeSlot,this.slotEl[this.activeSlot].slotYPosition+b);this.startY=a.targetTouches[0].clientY;80<a.timeStamp-this.scrollStartTime&&(this.scrollStartY=this.slotEl[this.activeSlot].slotYPosition,this.scrollStartTime=a.timeStamp)},scrollEnd:function(a){this.swFrame.removeEventListener("touchmove",this,!1);this.swFrame.removeEventListener("touchend",
this,!1);if(0<this.slotEl[this.activeSlot].slotYPosition||this.slotEl[this.activeSlot].slotYPosition<this.slotEl[this.activeSlot].slotMaxScroll)return this.scrollTo(this.activeSlot,0<this.slotEl[this.activeSlot].slotYPosition?0:this.slotEl[this.activeSlot].slotMaxScroll),!1;var b=this.slotEl[this.activeSlot].slotYPosition-this.scrollStartY;if(b<this.cellHeight/1.5&&b>-this.cellHeight/1.5)return this.slotEl[this.activeSlot].slotYPosition%this.cellHeight&&this.scrollTo(this.activeSlot,Math.round(this.slotEl[this.activeSlot].slotYPosition/
this.cellHeight)*this.cellHeight,"100ms"),!1;a=2*b/(a.timeStamp-this.scrollStartTime)/this.friction;b=this.friction/2*a*a;0>a&&(a=-a,b=-b);b=this.slotEl[this.activeSlot].slotYPosition+b;0<b?(b/=2,a/=3,b>this.swSlotWrapper.clientHeight/4&&(b=this.swSlotWrapper.clientHeight/4)):b<this.slotEl[this.activeSlot].slotMaxScroll?(b=(b-this.slotEl[this.activeSlot].slotMaxScroll)/2+this.slotEl[this.activeSlot].slotMaxScroll,a/=3,b<this.slotEl[this.activeSlot].slotMaxScroll-this.swSlotWrapper.clientHeight/4&&
(b=this.slotEl[this.activeSlot].slotMaxScroll-this.swSlotWrapper.clientHeight/4)):b=Math.round(b/this.cellHeight)*this.cellHeight;this.scrollTo(this.activeSlot,Math.round(b),Math.round(a)+"ms");return!0},scrollTo:function(a,b,c){this.slotEl[a].style.webkitTransitionDuration=c?c:"100ms";this.setPosition(a,b?b:0);(0<this.slotEl[a].slotYPosition||this.slotEl[a].slotYPosition<this.slotEl[a].slotMaxScroll)&&this.slotEl[a].addEventListener("webkitTransitionEnd",this,!1)},scrollToValue:function(a,b){var c,
d;this.slotEl[a].removeEventListener("webkitTransitionEnd",this,!1);this.slotEl[a].style.webkitTransitionDuration="0";c=0;for(d in this.slotData[a].values){if(d==b){c*=this.cellHeight;this.setPosition(a,c);break}c-=1}},backWithinBoundaries:function(a){a.target.removeEventListener("webkitTransitionEnd",this,!1);this.scrollTo(a.target.slotPosition,0<a.target.slotYPosition?0:a.target.slotMaxScroll,"150ms");return!1},tapDown:function(a){a.currentTarget.addEventListener("touchmove",this,!1);a.currentTarget.addEventListener("touchend",
this,!1);a.currentTarget.className="sw-pressed"},tapCancel:function(a){a.currentTarget.removeEventListener("touchmove",this,!1);a.currentTarget.removeEventListener("touchend",this,!1);a.currentTarget.className=""},tapUp:function(a){this.tapCancel(a);"sw-cancel"==a.currentTarget.id?this.cancelAction():this.doneAction();this.close()},setCancelAction:function(a){this.cancelAction=a},setDoneAction:function(a){this.doneAction=a},setSlotScrollEndAction:function(a){this.scrollEndAction=a},cancelAction:function(){return!1},
cancelDone:function(){return!0},scrollEndAction:function(){return!1}};var ScrollWheel=function(a,b,c,d,e){this.pickerDetails={id:""};this.closeCallback=c;"date"==d.toLowerCase()?this.showDatePicker(a,b):"time"==d.toLowerCase()?this.showTimePicker(a,b):"custom"==d.toLowerCase()&&this.showCustomPicker(a,b,e);var f=this;SpinningWheel.setDoneAction(function(){f.done.apply(this)});SpinningWheel.setCancelAction(function(){ScrollWheel.instanceOpen=!1;f.closeCallback.apply(f,[f.pickerDetails.id,null])})};ScrollWheel.instanceOpen=!1;
ScrollWheel.prototype.showTimePicker=function(a,b){if(ScrollWheel.instanceOpen)return!1;ScrollWheel.instanceOpen=!0;for(var c={},d={},e=1,e=1;13>e;e++)c[e]=10>e?"0"+e:e;for(e=0;60>e;e++)d[e]=10>e?"0"+e:e;""!=a&&(this.pickerDetails.id=a);var f=new Date,e=f.getHours(),f=f.getMinutes(),h=12>e?0:1;12<e&&(e-=12);""!=b&&(h=b.split(":"),e=h[0],0==e.indexOf("0")&&(e=e.charAt(1)),f=h[1].split(" ")[0],0==f.indexOf("0")&&(f=f.charAt(1)),h="AM"==h[1].split(" ")[1].toUpperCase()?0:1);SpinningWheel.addSlot(c,"shrink",
e);SpinningWheel.addSlot(d,"shrink",f);SpinningWheel.addSlot({"0":"AM",1:"PM"},"shrink",h);SpinningWheel.open();seconds=null};ScrollWheel.prototype.showCustomPicker=function(a,b,c){if(ScrollWheel.instanceOpen)return!1;ScrollWheel.instanceOpen=!0;var d="";""!=a&&(this.pickerDetails.id=a);for(a=0;a<c.length;a++)b.length>a&&(d=b[a]),SpinningWheel.addSlot(c[a],"shrink",d);SpinningWheel.open()};
ScrollWheel.prototype.showDatePicker=function(a,b){if(ScrollWheel.instanceOpen)return!1;ScrollWheel.instanceOpen=!0;""!=a&&(this.pickerDetails.id=a);var c=1,d=1990,e=1;""!=b&&(d=b.split("/"),c=d[0],e=d[1],d=d[2]);for(var f=new Date,h=f.getFullYear()-12,j={},k={},g=1;32>g;g+=1)j[g]=g;for(g=f.getFullYear()-100;g<h;g+=1)k[g]=g;SpinningWheel.addSlot({1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},"shrink",c);SpinningWheel.addSlot(j,
"right",e);SpinningWheel.addSlot(k,"right",d);SpinningWheel.setSlotScrollEndAction(this.updateDates);SpinningWheel.open()};ScrollWheel.prototype.done=function(){ScrollWheel.instanceOpen=!1;var a=SpinningWheel.getSelectedValues();this.closeCallback(this.pickerDetails.id,a)};
ScrollWheel.prototype.updateDates=function(a){var b=null,b=null;if(0==a&&(b=SpinningWheel.getSlotValue(a),null!=b&&null!=b.keys&&null!=b.values))if(b=b.keys,a=SpinningWheel.getSlotValue(1),2==b[0])b=SpinningWheel.getSlotValue(2),0==b.keys[0]%4?(SpinningWheel.hideSlotValuesAfter(1,29,31),29<parseInt(a.keys[0],10)&&SpinningWheel.scrollToValue(1,29)):(SpinningWheel.hideSlotValuesAfter(1,28,31),28<parseInt(a.keys[0],10)&&SpinningWheel.scrollToValue(1,28));else if(1==b[0]||3==b[0]||5==b[0]||7==b[0]||8==
b[0]||10==b[0]||12==b[0])SpinningWheel.showSlotValuesAfter(1,28,31);else if(4==b[0]||6==b[0]||9==b[0]||11==b[0])SpinningWheel.hideSlotValuesAfter(1,30,31),30<parseInt(a.keys[0],10)&&SpinningWheel.scrollToValue(1,30)};
